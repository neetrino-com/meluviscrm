# üìã –ü–ª–∞–Ω API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É API –¥–ª—è Meluvis CRM.

---

## üéØ –¶–µ–ª—å

–°–æ–∑–¥–∞—Ç—å REST API –¥–ª—è –≤–Ω–µ—à–Ω–µ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∑–≤–æ–ª–∏—Ç –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Ä–∞–π–æ–Ω–∞—Ö, –∑–¥–∞–Ω–∏—è—Ö –∏ –∫–≤–∞—Ä—Ç–∏—Ä–∞—Ö, –∞ —Ç–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç–∞—Ç—É—Å—ã –∫–≤–∞—Ä—Ç–∏—Ä.

---

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

**–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–π –º–µ—Ç–æ–¥:** Bearer Token –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization: Bearer TOKEN`
- –¢–æ–∫–µ–Ω –±—É–¥–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º —Å–∏—Å—Ç–µ–º—ã
- –û–¥–∏–Ω —Ç–æ–∫–µ–Ω –¥–ª—è –≤—Å–µ—Ö –≤–Ω–µ—à–Ω–∏—Ö —Å–∏—Å—Ç–µ–º

---

## üì° –°—Ç—Ä—É–∫—Ç—É—Ä–∞ API

### –ë–∞–∑–æ–≤—ã–π URL
`https://meluviscrm.vercel.app/api`

### –û—Å–Ω–æ–≤–Ω—ã–µ Endpoints (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å):

#### 1. Districts list
- **–ú–µ—Ç–æ–¥:** `GET /api/districts`
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–∞–π–æ–Ω–æ–≤
- **–û—Ç–≤–µ—Ç:** –ú–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ —Å –ø–æ–ª—è–º–∏: `id`, `slug`, `name`, `created_at`, `updated_at`
- **–í–∞–∂–Ω–æ:** –ö–∞–∂–¥—ã–π —Ä–∞–π–æ–Ω –±—É–¥–µ—Ç –∏–º–µ—Ç—å `id` (—á–∏—Å–ª–æ) –∏ `slug` (—Å—Ç—Ä–æ–∫–∞) –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

#### 2. Buildings list by District
- **–ú–µ—Ç–æ–¥:** `GET /api/districts/{district_id}/buildings`
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–¥–∞–Ω–∏–π –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º —Ä–∞–π–æ–Ω–µ
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `district_id` (number) - ID —Ä–∞–π–æ–Ω–∞
- **–û—Ç–≤–µ—Ç:** –ú–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ —Å –ø–æ–ª—è–º–∏: `id`, `slug`, `name`, `district_id`, `district_slug`, `created_at`, `updated_at`
- **–í–∞–∂–Ω–æ:** –í –æ—Ç–≤–µ—Ç–µ –±—É–¥–µ—Ç `district_slug` –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç—ã –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ ID

#### 3. Apartments list by Building
- **–ú–µ—Ç–æ–¥:** `GET /api/buildings/{building_id}/apartments`
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–≤–∞—Ä—Ç–∏—Ä –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –∑–¥–∞–Ω–∏–∏
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** 
  - `building_id` (number) - ID –∑–¥–∞–Ω–∏—è
  - `status` (string, optional) - –§–∏–ª—å—Ç—Ä: `upcoming`, `available`, `reserved`, `sold`
- **–û—Ç–≤–µ—Ç:** –û–±—ä–µ–∫—Ç —Å `items` (–º–∞—Å—Å–∏–≤ –∫–≤–∞—Ä—Ç–∏—Ä) –∏ `pagination`
- **–ü–æ–ª—è –∫–≤–∞—Ä—Ç–∏—Ä—ã:** `id`, `apartment_no`, `status`, `sqm`, `price_sqm`, `total_price`, `building_id`, `building_slug`, `district_id`, `district_slug`
- **–í–∞–∂–Ω–æ:** –í—Å–µ –æ—Ç–≤–µ—Ç—ã –±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å `slug` –¥–ª—è district –∏ building

#### 4. Apartment details
- **–ú–µ—Ç–æ–¥:** `GET /api/external/apartments/{apartment_id}`
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–≤–∞—Ä—Ç–∏—Ä–µ
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `apartment_id` (number) - ID –∫–≤–∞—Ä—Ç–∏—Ä—ã
- **–û—Ç–≤–µ—Ç:** –û–±—ä–µ–∫—Ç —Å–æ –≤—Å–µ–º–∏ –ø–æ–ª—è–º–∏ –∫–≤–∞—Ä—Ç–∏—Ä—ã, –≤–∫–ª—é—á–∞—è –¥–∞–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏, –≤–ª–æ–∂–µ–Ω–∏—è, `building_slug`, `district_slug`

#### 5. Apartment status update
- **–ú–µ—Ç–æ–¥:** `PUT /api/apartments/{apartment_id}/status`
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–≤–∞—Ä—Ç–∏—Ä—ã
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `apartment_id` (number) - ID –∫–≤–∞—Ä—Ç–∏—Ä—ã
- **Body:** `{"status": "reserved"}` - –æ–¥–∏–Ω –∏–∑: `upcoming`, `available`, `reserved`, `sold`
- **–û—Ç–≤–µ—Ç:** –û–±—ä–µ–∫—Ç —Å `id`, `status`, `updated_at`

---

## üîë –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **Slug –≤ –æ—Ç–≤–µ—Ç–∞—Ö:** –í—Å–µ endpoints –±—É–¥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `slug` (—Å—Ç—Ä–æ–∫–æ–≤—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä) –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ `id`, —á—Ç–æ–±—ã –Ω–µ —Ç—Ä–µ–±–æ–≤–∞–ª–∞—Å—å –ø—Ä–æ–≤–µ—Ä–∫–∞ ID –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞

2. **–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:** JSON –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤

3. **–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤:** –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ HTTP –∫–æ–¥—ã (200, 400, 401, 404, 500)

4. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è:** –î–ª—è —Å–ø–∏—Å–∫–æ–≤ –∫–≤–∞—Ä—Ç–∏—Ä –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏—è

---

## üìÖ –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Å—Ä–æ–∫–∏

API –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã.

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ. –î–µ—Ç–∞–ª—å–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –±—É–¥–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∞ –ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
