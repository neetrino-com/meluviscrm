# ๐ API-ีซ ีบีฌีกีถ ีซีถีฟีฅีฃึีกึีซีกีตีซ ีฐีกีดีกึ

Meluvis CRM-ีซ ีฐีกีดีกึ API-ีซ ีดีทีกีฏีดีกีถ ีฟีฅีญีถีซีฏีกีฏีกีถ ีกีผีกีปีกีคึีกีถึ:

---

## ๐ฏ ีีบีกีฟีกีฏ

ีีฟีฅีฒีฎีฅีฌ REST API ีกึีฟีกึีซีถ ีซีถีฟีฅีฃึีกึีซีกีตีซ ีฐีกีดีกึ, ีธึีจ ีฉีธึีตีฌ ีฏีฟีก ีฝีฟีกีถีกีฌ ีฟีพีตีกีฌีถีฅึ ีฉีกีฒีกีดีกีฝีฅึีซ, ีทีฅีถึีฅึีซ ึ ีขีถีกีฏีกึีกีถีถีฅึีซ ีดีกีฝีซีถ, ีซีถีนีบีฅีฝ ีถีกึ ีฉีกึีดีกึีถีฅีฌ ีขีถีกีฏีกึีกีถีถีฅึีซ ีฏีกึีฃีกีพีซีณีกีฏีถีฅึีจ:

---

## ๐ ีีกีพีฅึีกึีธึีด

**ีีฌีกีถีกีพีธึีพีกีฎ ีดีฅีฉีธีค:** Bearer Token ีพีกีพีฅึีกึีธึีด
- ิฒีธีฌีธึ ีฐีกึึีธึีดีถีฅึีจ ีฏีบีกีฐีกีถีปีฅีถ `Authorization: Bearer TOKEN` ีพีฅึีถีกีฃีซึ
- Token-ีจ ีฏีฟึีพีซ ีฐีกีดีกีฏีกึีฃีซ ีกีคีดีซีถีซีฝีฟึีกีฟีธึีซ ีฏีธีฒีดีซึ
- ีีฅีฏ token ีขีธีฌีธึ ีกึีฟีกึีซีถ ีฐีกีดีกีฏีกึีฃีฅึีซ ีฐีกีดีกึ

---

## ๐ก API-ีซ ีฏีกีผีธึึีพีกีฎึ

### ีีซีดีถีกีฏีกีถ URL
`https://meluviscrm.vercel.app/api`

### ีีซีดีถีกีฏีกีถ Endpoints (ีบีฌีกีถีกีพีธึีพีกีฎ ีง ีซึีกีฏีกีถีกึีถีฅีฌ):

#### 1. Districts list
- **ีีฅีฉีธีค:** `GET /api/districts`
- **ีีฏีกึีกีฃึีธึีฉีตีธึีถ:** ีีฟีกีถีกีฌ ีขีธีฌีธึ ีฉีกีฒีกีดีกีฝีฅึีซ ึีธึึีกีฏีจ
- **ีีกีฟีกีฝีญีกีถ:** ีีขีตีฅีฏีฟีถีฅึีซ ีฆีกีถีฃีพีกีฎ ีฐีฅีฟึีตีกีฌ ีคีกีทีฟีฅึีธีพ: `id`, `slug`, `name`, `created_at`, `updated_at`
- **ิฟีกึึีธึ:** ีีธึึีกึีกีถีนีตีธึึ ีฉีกีฒีกีดีกีฝ ีฏีธึีถีฅีถีก `id` (ีฉีซีพ) ึ `slug` (ีฟีธีฒ) ีถีธึีตีถีกีฏีกีถีกึีดีกีถ ีฐีกีดีกึ

#### 2. Buildings list by District
- **ีีฅีฉีธีค:** `GET /api/districts/{district_id}/buildings`
- **ีีฏีกึีกีฃึีธึีฉีตีธึีถ:** ีีฟีกีถีกีฌ ีถีทีพีกีฎ ีฉีกีฒีกีดีกีฝีธึีด ีฃีฟีถีพีธีฒ ีทีฅีถึีฅึีซ ึีธึึีกีฏีจ
- **ีีกึีกีดีฅีฟึีฅึ:** `district_id` (number) - ีฉีกีฒีกีดีกีฝีซ ID
- **ีีกีฟีกีฝีญีกีถ:** ีีขีตีฅีฏีฟีถีฅึีซ ีฆีกีถีฃีพีกีฎ ีฐีฅีฟึีตีกีฌ ีคีกีทีฟีฅึีธีพ: `id`, `slug`, `name`, `district_id`, `district_slug`, `created_at`, `updated_at`
- **ิฟีกึึีธึ:** ีีกีฟีกีฝีญีกีถีธึีด ีฏีฌีซีถีซ `district_slug` ID-ีซ ีฝีฟีธึีฃีธึีด ีนีกีถีฅีฌีธึ ีฐีกีดีกึ

#### 3. Apartments list by Building
- **ีีฅีฉีธีค:** `GET /api/buildings/{building_id}/apartments`
- **ีีฏีกึีกีฃึีธึีฉีตีธึีถ:** ีีฟีกีถีกีฌ ีถีทีพีกีฎ ีทีฅีถึีธึีด ีฃีฟีถีพีธีฒ ีขีถีกีฏีกึีกีถีถีฅึีซ ึีธึึีกีฏีจ
- **ีีกึีกีดีฅีฟึีฅึ:** 
  - `building_id` (number) - ีทีฅีถึีซ ID
  - `status` (string, optional) - ีีซีฌีฟึ: `upcoming`, `available`, `reserved`, `sold`
- **ีีกีฟีกีฝีญีกีถ:** ีีขีตีฅีฏีฟ `items` (ีขีถีกีฏีกึีกีถีถีฅึีซ ีฆีกีถีฃีพีกีฎ) ึ `pagination` ีคีกีทีฟีฅึีธีพ
- **ิฒีถีกีฏีกึีกีถีซ ีคีกีทีฟีฅึ:** `id`, `apartment_no`, `status`, `sqm`, `price_sqm`, `total_price`, `building_id`, `building_slug`, `district_id`, `district_slug`
- **ิฟีกึึีธึ:** ิฒีธีฌีธึ ีบีกีฟีกีฝีญีกีถีถีฅึีจ ีฏีบีกึีธึีถีกีฏีฅีถ `slug` district-ีซ ึ building-ีซ ีฐีกีดีกึ

#### 4. Apartment details
- **ีีฅีฉีธีค:** `GET /api/external/apartments/{apartment_id}`
- **ีีฏีกึีกีฃึีธึีฉีตีธึีถ:** ีีฟีกีถีกีฌ ีขีถีกีฏีกึีกีถีซ ีดีกีฝีซีถ ีกีดีขีธีฒีปีกีฏีกีถ ีฟีฅีฒีฅีฏีกีฟีพีธึีฉีตีธึีถ
- **ีีกึีกีดีฅีฟึีฅึ:** `apartment_id` (number) - ีขีถีกีฏีกึีกีถีซ ID
- **ีีกีฟีกีฝีญีกีถ:** ีีขีตีฅีฏีฟ ีขีถีกีฏีกึีกีถีซ ีขีธีฌีธึ ีคีกีทีฟีฅึีธีพ, ีถีฅึีกีผีตีกีฌ ีฃีธึีฎีกึึีซ ีฟีพีตีกีฌีถีฅึีจ, ีฏึีพีกีฎ ึีกีตีฌีฅึีจ, `building_slug`, `district_slug`

#### 5. Apartment status update
- **ีีฅีฉีธีค:** `PUT /api/apartments/{apartment_id}/status`
- **ีีฏีกึีกีฃึีธึีฉีตีธึีถ:** ินีกึีดีกึีถีฅีฌ ีขีถีกีฏีกึีกีถีซ ีฏีกึีฃีกีพีซีณีกีฏีจ
- **ีีกึีกีดีฅีฟึีฅึ:** `apartment_id` (number) - ีขีถีกีฏีกึีกีถีซ ID
- **Body:** `{"status": "reserved"}` - ีดีฅีฏีจ ีฐีฅีฟึีตีกีฌีซึ: `upcoming`, `available`, `reserved`, `sold`
- **ีีกีฟีกีฝีญีกีถ:** ีีขีตีฅีฏีฟ `id`, `status`, `updated_at` ีคีกีทีฟีฅึีธีพ

---

## ๐ ีีซีดีถีกีฏีกีถ ีกีผีกีถีฑีถีกีฐีกีฟีฏีธึีฉีตีธึีถีถีฅึ

1. **Slug ีบีกีฟีกีฝีญีกีถีถีฅึีธึีด:** ิฒีธีฌีธึ endpoints-ีถีฅึีจ ีฏีพีฅึีกีคีกึีฑีถีฅีถ `slug` (ีฟีธีฒีกีตีซีถ ีถีธึีตีถีกีฏีกีถีกึีธึึีซีน) `id`-ีซ ีฐีฅีฟ ีดีซีกีฝีซีถ, ีธึีบีฅีฝีฆีซ ีฏีฌีซีฅีถีฟีซ ีฏีธีฒีดีธึีด ID-ีซ ีฝีฟีธึีฃีธึีด ีนีบีกีฐีกีถีปีพีซ

2. **ีีพีตีกีฌีถีฅึีซ ีฑึีกีนีกึ:** JSON ีขีธีฌีธึ ีฐีกึึีธึีดีถีฅึีซ ึ ีบีกีฟีกีฝีญีกีถีถีฅึีซ ีฐีกีดีกึ

3. **ีีกีฟีกีฝีญีกีถีซ ีฏีธีคีฅึ:** ีีฟีกีถีคีกึีฟ HTTP ีฏีธีคีฅึ (200, 400, 401, 404, 500)

4. **ิทีปีกีพีธึีธึีด:** ิฒีถีกีฏีกึีกีถีถีฅึีซ ึีธึึีกีฏีถีฅึีซ ีฐีกีดีกึ ีฏีซึีกีฏีกีถีกึีพีซ ีงีปีกีพีธึีธึีด

---

## ๐ ีีฌีกีถีกีพีธึีพีกีฎ ีชีกีดีฏีฅีฟีถีฅึ

API-ีถ ีฏีบีกีฟึีกีฝีฟ ีฌีซีถีซ ีฐีซีดีถีกีฏีกีถ ีฐีกีดีกีฏีกึีฃีซ ีดีทีกีฏีดีกีถ ีกีพีกึีฟีซึ ีฐีฅีฟีธ:

---

**ีีทีธึีด:** ีีก ีฟีฅีญีถีซีฏีกีฏีกีถ ีกีผีกีปีกีคึีกีถึ ีง: ีีกีถึีกีดีกีฝีถ ีฝีบีฅึีซึีซีฏีกึีซีกีถ ีฏีฟึีกีดีกีคึีพีซ ีซึีกีฏีกีถีกึีธึีดีซึ ีฐีฅีฟีธ:
